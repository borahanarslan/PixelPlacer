function createCanvas(n,t){var r=document.createElement("video"),i,u;r.src=t;r.width=250;r.height=150;r.loop=!0;i=document.createElement("canvas");i.width=r.width;i.height=r.height;i.id="c-"+n;i.draggable=!0;i.ondragstart=drag;document.getElementById(n).appendChild(i);u=i.getContext("2d");r.addEventListener("play",function(){var t=this;(function n(){this.paused||this.ended||(u.drawImage(r,0,0,i.width,i.height),setTimeout(n,1e3/30))})()});r.play()}function allowDrop(n){n.preventDefault()}function drag(n){var t=n.target.getBoundingClientRect();xPos=n.clientX-t.left-window.scrollX;yPos=n.clientY-t.top-window.scrollY;n.dataTransfer.setData("text",n.target.id)}function drop(n){var e,t,u,f,i,r,c;n.preventDefault();e=n.dataTransfer.getData("text");t=document.getElementById(e);n.target.parentElement.appendChild(t);var o=document.getElementById("background-video"),s=n.clientX-o.getBoundingClientRect().left-window.scrollX,h=n.clientY-o.getBoundingClientRect().top-window.scrollY;for(t.style.position="absolute",t.style.left=s-xPos+"px",t.style.top=h-yPos+"px",canvasX=Math.floor(s-xPos),canvasY=Math.floor(h-yPos),u=t.id.replace("c-canvas-",""),f=!1,i=0;i<ProjectObject.ProjectClass.length;i++)r=ProjectObject.ProjectClass[i],r.ProjectVideosId==u&&(r.XPosition=canvasX,r.YPosition=canvasY,f=!0);f==!1&&(c={XPosition:canvasX,YPosition:canvasY,ProjectVideosId:u},ProjectObject.ProjectClass.push(c))}var xPos,yPos,canvasX,canvasY,ProjectObject={};ProjectObject.ProjectClass=[];counter=0;$("#SaveButton").click(function(){var n=document.getElementById("ProjectTitle").value;ProjectObject.Title=n;console.log("Did my object make",ProjectObject);$.ajax({url:"/Projects/SaveProject",type:"post",dataType:"application/json",data:ProjectObject,success:function(n){console.log("success message: ",n)}})});